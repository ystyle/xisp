# Xisp ç¤ºä¾‹å’Œæµ‹è¯•

æœ¬ç›®å½•åŒ…å« Xisp Lisp è§£é‡Šå™¨çš„ç¤ºä¾‹ä»£ç å’Œæµ‹è¯•è„šæœ¬ã€‚

## ğŸ“ æ–‡ä»¶åˆ—è¡¨

### ç¤ºä¾‹è„šæœ¬

| æ–‡ä»¶ | è¯´æ˜ | è¿è¡Œæ–¹å¼ |
|------|------|----------|
| `print_test.lisp` | æ‰“å°åŠŸèƒ½å®Œæ•´æµ‹è¯• | `./xisp examples/print_test.lisp` |
| `tutorial.lisp` | åŸºç¡€æ•™ç¨‹ï¼ˆ12ä¸ªä¸»é¢˜ï¼‰ | `./xisp examples/tutorial.lisp` |
| `advanced.lisp` | é«˜çº§ç‰¹æ€§å±•ç¤º | `./xisp examples/advanced.lisp` |
| `quick_test.lisp` | å¿«é€ŸåŠŸèƒ½éªŒè¯ | `./xisp examples/quick_test.lisp` |
| `bridge_test.lisp` | ä»“é¢‰æ¡¥æ¥åŠŸèƒ½æµ‹è¯• | `./xisp examples/bridge_test.lisp` |
| `file_io_test.lisp` | æ–‡ä»¶ I/O å®Œæ•´æµ‹è¯• | `./xisp examples/file_io_test.lisp` |
| `apply_demo.lisp` | apply å‡½æ•°æ¼”ç¤º | `./xisp examples/apply_demo.lisp` |
| `apply_test.lisp` | apply å‡½æ•°æµ‹è¯• | `./xisp examples/apply_test.lisp` |
| `destruct_test.lisp` | è§£æ„ç»‘å®šæµ‹è¯• | `./xisp examples/destruct_test.lisp` |

### æ–°å¢ç¤ºä¾‹ï¼ˆç°ä»£åŒ–è¯­æ³•ï¼‰

| æ–‡ä»¶ | è¯´æ˜ |
|------|------|
| `pattern_matching.lisp` | æ¨¡å¼åŒ¹é…å®Œæ•´æ•™ç¨‹ï¼ˆå« rest å‚æ•°ã€å®ˆå«æ¡ä»¶ï¼‰ |
| `modern_syntax.lisp` | ç°ä»£åŒ–è¯­æ³•ç‰¹æ€§ï¼ˆå­—é¢é‡ã€æ’å€¼ã€è§£æ„ã€ç®¡é“ï¼‰ |
| `destructuring.lisp` | è§£æ„ç»‘å®šæ·±å…¥å±•ç¤º |
| `thread_macro.lisp` | ç®¡é“æ“ä½œç¬¦æ·±å…¥å±•ç¤º |
| `guard_clauses.lisp` | å®ˆå«æ¡ä»¶æ·±å…¥å±•ç¤º |

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. è¿è¡Œæ‰€æœ‰æµ‹è¯•

ä½¿ç”¨é¡¹ç›®æ ¹ç›®å½•çš„æµ‹è¯•è„šæœ¬ï¼š

```bash
./test.sh
```

è¿™ä¼šè‡ªåŠ¨æ‰§è¡Œï¼š
- ç¼–è¯‘é¡¹ç›®
- è¿è¡Œå•å…ƒæµ‹è¯•
- è¿è¡ŒåŠŸèƒ½éªŒè¯

### 2. è¿è¡Œå•ä¸ªç¤ºä¾‹

```bash
# æ‰“å°åŠŸèƒ½æµ‹è¯•
./xisp examples/print_test.lisp

# åŸºç¡€æ•™ç¨‹
./xisp examples/tutorial.lisp

# é«˜çº§ç‰¹æ€§
./xisp examples/advanced.lisp

# å¿«é€ŸéªŒè¯
./xisp examples/quick_test.lisp
```

### 3. äº¤äº’å¼è¿è¡Œ

```bash
./xisp
```

åœ¨ REPL ä¸­è¾“å…¥ï¼š

```lisp
xisp> (println "Hello" "World")
"Hello" "World"

nil
xisp> (+ 1 2 3)

3.000000
xisp> ,exit
```

## ğŸ“š ç¤ºä¾‹è¯´æ˜

### print_test.lisp - æ‰“å°åŠŸèƒ½æµ‹è¯•

æµ‹è¯•æ‰€æœ‰ 5 ä¸ªå†…ç½®æ‰“å°å‡½æ•°ï¼š

- `print` - ä¸æ¢è¡Œæ‰“å°ï¼Œå‚æ•°é—´ç”¨ç©ºæ ¼åˆ†éš”
- `println` - æ‰“å°å¹¶æ¢è¡Œ
- `princ` - Lisp é£æ ¼æ‰“å°
- `display` - Scheme é£æ ¼æ˜¾ç¤º
- `newline` - è¾“å‡ºæ¢è¡Œç¬¦

**é€‚ç”¨åœºæ™¯**: éªŒè¯æ‰“å°è¾“å‡ºåŠŸèƒ½

### tutorial.lisp - åŸºç¡€æ•™ç¨‹

åŒ…å« 12 ä¸ªåŸºç¡€ä¸»é¢˜ï¼š

1. åŸºæœ¬ç®—æœ¯è¿ç®—
2. å˜é‡å®šä¹‰
3. æ¯”è¾ƒè¿ç®—
4. é€»è¾‘è¿ç®—
5. åˆ—è¡¨åŸºç¡€
6. å‡½æ•°å®šä¹‰
7. åŒ¿åå‡½æ•° (lambda)
8. æ¡ä»¶åˆ¤æ–­ (if)
9. å±€éƒ¨ç»‘å®š (let)
10. é«˜é˜¶å‡½æ•°
11. é€’å½’å‡½æ•°
12. ç»¼åˆç¤ºä¾‹

**é€‚ç”¨åœºæ™¯**: Lisp åˆå­¦è€…å…¥é—¨

### advanced.lisp - é«˜çº§ç‰¹æ€§

å±•ç¤ºé«˜çº§ç¼–ç¨‹æŠ€å·§ï¼š

1. é—­åŒ… (Closures)
2. å‡½æ•°ç»„åˆ (Compose)
3. æŸ¯é‡ŒåŒ– (Currying)
4. åˆ—è¡¨å¤„ç†ç®¡é“
5. å½’çº¦æ“ä½œ (Reduce)
6. èŒƒå›´ç”Ÿæˆ (Range)
7. ç´¯åŠ å™¨æ¨¡å¼
8. å‡½æ•°å¼ç¼–ç¨‹

**é€‚ç”¨åœºæ™¯**: å­¦ä¹ å‡½æ•°å¼ç¼–ç¨‹

### quick_test.lisp - å¿«é€ŸéªŒè¯

å¿«é€Ÿæ£€æŸ¥æ ¸å¿ƒåŠŸèƒ½ï¼š

- ç®—æœ¯è¿ç®—
- å˜é‡å®šä¹‰
- åˆ—è¡¨æ“ä½œ
- å‡½æ•°è°ƒç”¨
- é«˜é˜¶å‡½æ•°
- é€’å½’
- æ‰“å°

**é€‚ç”¨åœºæ™¯**: å¿«é€ŸéªŒè¯åŠŸèƒ½æ˜¯å¦æ­£å¸¸

### bridge_test.lisp - ä»“é¢‰æ¡¥æ¥åŠŸèƒ½æµ‹è¯•

æ¼”ç¤º Lisp å¦‚ä½•è°ƒç”¨ä»“é¢‰æ ‡å‡†åº“å‡½æ•°ï¼š

- `cangjie:io:read-file` - è¯»å–æ–‡ä»¶å†…å®¹
- `cangjie:io:write-file` - å†™å…¥æ–‡ä»¶
- `cangjie:fs:exists?` - æ£€æŸ¥æ–‡ä»¶/ç›®å½•æ˜¯å¦å­˜åœ¨
- `cangjie:fs:list-dir` - åˆ—å‡ºç›®å½•å†…å®¹

**é€‚ç”¨åœºæ™¯**: ç†è§£ä»“é¢‰äº’æ“ä½œæ¡¥æ¥å±‚

### extension_demo.cj - LispConvertible æ‰©å±•ç¤ºä¾‹ï¼ˆä»“é¢‰ç¨‹åºï¼‰

å±•ç¤ºå¦‚ä½•ä½¿ç”¨ `LispConvertible` æ¥å£å’Œæ‰©å±•åŠŸèƒ½ï¼š

- åŸºæœ¬ç±»å‹è½¬æ¢ï¼ˆInt64, String, Boolï¼‰
- ArrayList/Array è½¬æ¢ä¸º Lisp åˆ—è¡¨
- HashMap è½¬æ¢ä¸º Lisp å…³è”åˆ—è¡¨
- HashSet è½¬æ¢ä¸º Lisp åˆ—è¡¨
- Option ç±»å‹è½¬æ¢
- åµŒå¥—é›†åˆè½¬æ¢
- ä¾¿æ·å‡½æ•° `toLisp()` å’Œ `toLispList()`

**é€‚ç”¨åœºæ™¯**: å­¦ä¹ å¦‚ä½•åœ¨ä»“é¢‰ä»£ç ä¸­ä½¿ç”¨ Lisp ç±»å‹ç³»ç»Ÿ

**è¿è¡Œæ–¹å¼**:
```bash
cjpm run --name "ystyle::xisp.examples.extension_demo"
```

### file_io_test.lisp - æ–‡ä»¶ I/O å®Œæ•´æµ‹è¯•

æµ‹è¯•çœŸå®çš„æ–‡ä»¶ç³»ç»Ÿå’Œæ–‡ä»¶ I/O æ“ä½œï¼š

- `cangjie:io:read-file` - è¯»å–æ–‡ä»¶å†…å®¹ï¼ˆçœŸå®å®ç°ï¼‰
- `cangjie:io:write-file` - å†™å…¥æ–‡ä»¶ï¼ˆçœŸå®å®ç°ï¼‰
- `cangjie:io:append-file` - è¿½åŠ å†…å®¹åˆ°æ–‡ä»¶ï¼ˆæ–°å¢ï¼‰
- `cangjie:fs:exists?` - æ£€æŸ¥æ–‡ä»¶/ç›®å½•æ˜¯å¦å­˜åœ¨ï¼ˆçœŸå®å®ç°ï¼‰
- `cangjie:fs:file?` - åˆ¤æ–­æ˜¯å¦ä¸ºæ–‡ä»¶ï¼ˆæ–°å¢ï¼‰
- `cangjie:fs:directory?` - åˆ¤æ–­æ˜¯å¦ä¸ºç›®å½•ï¼ˆæ–°å¢ï¼‰
- `cangjie:fs:list-dir` - åˆ—å‡ºç›®å½•å†…å®¹ï¼ˆçœŸå®å®ç°ï¼‰

**é€‚ç”¨åœºæ™¯**: éªŒè¯æ–‡ä»¶ I/O æ¡¥æ¥åŠŸèƒ½

**è¿è¡Œæ–¹å¼**:
```bash
./xisp examples/file_io_test.lisp
```

**ç‰¹æ€§**:
- çœŸå®çš„æ–‡ä»¶è¯»å†™æ“ä½œ
- é”™è¯¯å¤„ç†å’Œå¼‚å¸¸æ•è·
- æ–‡ä»¶ç±»å‹åˆ¤æ–­
- ç›®å½•éå†

## ğŸ“Š è¾“å‡ºè¯´æ˜

æ¯ä¸ªè¡¨è¾¾å¼æ‰§è¡Œåï¼ŒREPL æ˜¾ç¤ºï¼š

```
xisp> (println "Hello" "World")    <- ç”¨æˆ·è¾“å…¥
"Hello" "World"                      <- æ‰“å°è¾“å‡º

nil                                  <- è¿”å›å€¼
xisp> (+ 1 2 3)                      <- ç”¨æˆ·è¾“å…¥

3.000000                             <- è¿”å›å€¼
xisp>                                <- ä¸‹ä¸€ä¸ªæç¤ºç¬¦
```

## ğŸ”§ REPL å‘½ä»¤

åœ¨ REPL ä¸­å¯ç”¨çš„ç‰¹æ®Šå‘½ä»¤ï¼š

| å‘½ä»¤ | åŠŸèƒ½ |
|------|------|
| `,help` | æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯ |
| `,env` | æŸ¥çœ‹ç¯å¢ƒå˜é‡ |
| `,exit` | é€€å‡º REPL |
| `,quit` | é€€å‡º REPL |

## ğŸ’¡ å†…ç½®å‡½æ•°

### ç®—æœ¯
- `+` `-` `*` `/` `mod`

### æ¯”è¾ƒ
- `=` `<` `>` `<=` `>=`

### é€»è¾‘
- `and` `or` `not`

### åˆ—è¡¨
- `list` `cons` `prepend` `first` `rest` `second` `third`
- `length` `map` `filter` `reduce` `sum` `product`
- `reverse` `range`

### è°“è¯
- `number?` `string?` `symbol?` `list?` `null?` `procedure?`

### æ‰“å°
- `print` `println` `princ` `display` `newline`

## ğŸ“– æ›´å¤šèµ„æº

- é¡¹ç›®æ ¹ç›®å½•: `../README.md`
- ä»»åŠ¡è¿½è¸ª: `../task.md`
- æ ¸å¿ƒè®¾è®¡: `../docs/core.md`
- è®¾è®¡æ–‡æ¡£: `../docs/design.md`

### ä»“é¢‰ç¤ºä¾‹ç¨‹åº

å¦‚éœ€è¿è¡Œä»“é¢‰ç¤ºä¾‹ç¨‹åºï¼ˆç”¨äºæ¼”ç¤ºç‰¹å®šåŠŸèƒ½æˆ– API ç”¨æ³•ï¼‰ï¼Œè¯·æŸ¥çœ‹ `src/examples/` ç›®å½•ï¼š

```bash
# ç¼–è¯‘æ‰€æœ‰ç¤ºä¾‹ç¨‹åº
cjpm build

# è¿è¡Œä»“é¢‰ç¤ºä¾‹ç¨‹åºï¼ˆä¾‹å¦‚æ¨¡å¼åŒ¹é…æ¼”ç¤ºï¼‰
./target/release/bin/ystyle::xisp.examples.match_demo
```

å¯ç”¨çš„ä»“é¢‰ç¤ºä¾‹ç¨‹åºï¼š
- `match_demo` - æ¨¡å¼åŒ¹é…å®Œæ•´æ¼”ç¤º
- `modern_syntax` - ç°ä»£åŒ–è¯­æ³•æ¼”ç¤º
- `test_destruct` - è§£æ„ç»‘å®šæµ‹è¯•
- `test_pipeline` - ç®¡é“æ“ä½œç¬¦æµ‹è¯•
- `guard_test` - å®ˆå«æ¡ä»¶æµ‹è¯•
- `sandbox_demo` - æ²™ç®±ç³»ç»Ÿæ¼”ç¤º
- `options_usage` - é€‰é¡¹ç³»ç»Ÿä½¿ç”¨ç¤ºä¾‹
- `extension_demo` - ä»“é¢‰æ‰©å±•åŠŸèƒ½æ¼”ç¤º

## ğŸ› é—®é¢˜åé¦ˆ

å¦‚æœå‘ç°ç¤ºä¾‹æœ‰é—®é¢˜ï¼Œè¯·æäº¤ issue æˆ– PRã€‚

---

**ç‰ˆæœ¬**: 0.1.0 MVP
**æœ€åæ›´æ–°**: 2026-01-21
